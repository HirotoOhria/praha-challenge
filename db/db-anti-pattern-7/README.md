# 課題1

### 自分の回答

- 詳細がわからない
  - いつ退会したかがわからない
  - 誰が退会させたかがわからない
  - 2回以上退会した場合に表現できない

### 参考記事

- [SQLアンチパターン 幻の第26章「とりあえず削除フラグ」](https://www.slideshare.net/t_wada/ronsakucasual)
  - デメリット
    - 常に WHERE 句が必要
    - true/false のどちらのときにどの状態かの共通認識が得られない
    - インデックスが貼れない
    - デフォルト値を変更するとバグの温床となる
  - 解決策
    - 日時カラムにする
      - インデックスが貼れない
    - 日時カラム + NOT NULL
      - 未来日のマジックナンバーが必要
    - 状態カラムにする
      - boolean と比べて何が良いのか？
      - NULL を使用しない
      - 拡張性がある
        - この例ではすでに2つの状態がある
        - 状態が増えたときに対応可能
    - 履歴テーブル
    - そもそも削除も更新もしない
      - T字型ER手法
      - テーブルに状態を持たせない


# 課題2

```
TABLE Student {
	id: varchar
	name: varchar
}

TABLE Taikai {
	id: varchar
	taikai_at: datetime
}
```

# 課題3

- 事実が失われる
- データの復旧ができない
- CASCADE 制約が不適切に定義されていた場合、連鎖的にデータが削除される
